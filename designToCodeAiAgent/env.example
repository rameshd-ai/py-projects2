# ===========================================
# Figma to MiBlock CMS Component Generator
# Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values

# FastAPI Server
APP_NAME="Figma to MiBlock Component Generator"
APP_VERSION="1.0.0"
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=True
ENVIRONMENT=development

# Database - PostgreSQL with pgvector
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=miblock_components
DATABASE_USER=postgres
DATABASE_PASSWORD=your_postgres_password
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}

# Cache Settings (In-Memory)
CACHE_TTL=3600  # seconds
ENABLE_CACHING=True

# Figma API
FIGMA_API_TOKEN=your_figma_personal_access_token_here
FIGMA_API_BASE_URL=https://api.figma.com/v1

# CMS API (MiBlock)
CMS_API_BASE_URL=https://your-cms-domain.com/api
CMS_API_KEY=your_cms_api_key_here
CMS_API_SECRET=your_cms_api_secret_here

# Anthropic Claude API
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# OpenAI (for CLIP embeddings)
OPENAI_API_KEY=your_openai_api_key_here  # Optional if using local CLIP

# Image Processing
IMAGE_SIMILARITY_THRESHOLD=0.85  # 0-1, higher = stricter matching
SSIM_THRESHOLD=0.85
PERCEPTUAL_HASH_THRESHOLD=5
CLIP_SIMILARITY_THRESHOLD=0.90

# HTML Generation
HTML_MAX_RETRIES=3
HTML_VALIDATION_TIMEOUT=30  # seconds

# Component Library
LIBRARY_REFRESH_MODE=incremental  # full or incremental
COMPONENTS_PER_BATCH=10
MAX_LIBRARY_COMPONENTS=1000

# Storage
UPLOAD_DIR=./storage/uploads
SCREENSHOTS_DIR=./storage/screenshots
RESULTS_DIR=./storage/results
TEMP_DIR=./storage/temp
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=./logs/app.log

# Security
SECRET_KEY=your_secret_key_for_jwt_and_sessions_change_this_in_production
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Rate Limiting
FIGMA_RATE_LIMIT=60  # requests per minute
CMS_RATE_LIMIT=100   # requests per minute
CLAUDE_RATE_LIMIT=50 # requests per minute

# Agent Configuration
AGENT_TIMEOUT=300  # seconds
MAX_CONCURRENT_AGENTS=3

# WebSocket
WS_HEARTBEAT_INTERVAL=30  # seconds
WS_MAX_CONNECTIONS=100

# Feature Flags
ENABLE_CACHING=True
ENABLE_WEBSOCKET=True
ENABLE_METRICS=True
ENABLE_DEBUG_MODE=False


